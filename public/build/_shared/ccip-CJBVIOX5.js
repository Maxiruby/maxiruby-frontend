import{a as R,b as m,c as X,d as u,e as Ee,f as j,g as ze,h as Re,i as De,j as g,k as Ge,l as Ne,m as h,n as Le,o as He,p as Ue,q as A,r as x,s as We}from"/build/_shared/chunk-R5ZPNG5U.js";import"/build/_shared/chunk-Z6K6P77J.js";import"/build/_shared/chunk-ZSCMMWXX.js";function D(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}var Te=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],qe=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],_t=[...qe,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Vt=[...qe,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}];var _e="0x82ad56cb";var I=class extends u{constructor({blockNumber:t,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...t&&n.blockCreated&&n.blockCreated>t?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${n.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}};var K=class extends u{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}};var Ve={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ye={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function B(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new oe(e.type);return`${e.name}(${ne(e.inputs,{includeName:t})})`}function ne(e,{includeName:t=!1}={}){return e?e.map(r=>gt(r,{includeName:t})).join(t?", ":","):""}function gt(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ne(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}var ee=class extends u{constructor({data:t,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ne(r,{includeName:!0})})`,`Data:   ${t} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=r,this.size=n}},G=class extends u{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}},ie=class extends u{constructor({expectedLength:t,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${t}`,`Given length: ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}},se=class extends u{constructor({expectedSize:t,value:r}){super(`Size of bytes "${r}" (bytes${m(r)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}},ae=class extends u{constructor({expectedLength:t,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}};var ue=class extends u{constructor(t,{docsPath:r}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}};var O=class extends u{constructor(t,{docsPath:r}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}},ce=class extends u{constructor(t,{docsPath:r}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}};var le=class extends u{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}},de=class extends u{constructor(t,{docsPath:r}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}},fe=class extends u{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}},oe=class extends u{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}};function f(e,t,r,{strict:n}={}){return R(e,{strict:!1})?wt(e,t,r,{strict:n}):xt(e,t,r,{strict:n})}function Je(e,t){if(typeof t=="number"&&t>0&&t>m(e)-1)throw new Ee({offset:t,position:"start",size:m(e)})}function Ze(e,t,r){if(typeof t=="number"&&typeof r=="number"&&m(e)!==r-t)throw new Ee({offset:r,position:"end",size:m(e)})}function xt(e,t,r,{strict:n}={}){Je(e,t);let o=e.slice(t,r);return n&&Ze(o,t,r),o}function wt(e,t,r,{strict:n}={}){Je(e,t);let o=`0x${e.replace("0x","").slice((t??0)*2,(r??e.length)*2)}`;return n&&Ze(o,t,r),o}var vt=/((function|event)\s)?(.*)(\((.*)\))/;function Qe(e){let t=e.match(vt),r=t?.[2]||void 0,n=t?.[3],o=t?.[5]||void 0;return{type:r,name:n,params:o}}function Xe(e){return Qe(e).name}function Ke(e){return Qe(e).params?.split(",").map(n=>n.trim().split(" "))?.map(n=>({type:n[0],name:n[1]==="indexed"?n[2]:n[1],...n[1]==="indexed"?{indexed:!0}:{}}))}var et=e=>Ue(He(e));function pe(e){let t=Xe(e),r=Ke(e)||[];return et(`${t}(${r.map(({type:n})=>n).join(",")})`)}function me(e){return et(B(e))}var N=e=>typeof e=="string"?f(pe(e),0,4):f(me(e),0,4);function v(e){return typeof e[0]=="string"?Me(e):Pt(e)}function Pt(e){let t=0;for(let o of e)t+=o.length;let r=new Uint8Array(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}function Me(e){return`0x${e.reduce((t,r)=>t+r.replace("0x",""),"")}`}function be(e,t){if(e.length!==t.length)throw new ae({expectedLength:e.length,givenLength:t.length});let r=$t({params:e,values:t}),n=ke(r);return n.length===0?"0x":n}function $t({params:e,values:t}){let r=[];for(let n=0;n<e.length;n++)r.push(Ce({param:e[n],value:t[n]}));return r}function Ce({param:e,value:t}){let r=te(e.type);if(r){let[n,o]=r;return At(t,{length:n,param:{...e,type:o}})}if(e.type==="tuple")return Ct(t,{param:e});if(e.type==="address")return jt(t);if(e.type==="bool")return Et(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){let n=e.type.startsWith("int");return Tt(t,{signed:n})}if(e.type.startsWith("bytes"))return Ot(t,{param:e});if(e.type==="string")return Mt(t);throw new le(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function ke(e){let t=0;for(let i=0;i<e.length;i++){let{dynamic:s,encoded:a}=e[i];s?t+=32:t+=m(a)}let r=[],n=[],o=0;for(let i=0;i<e.length;i++){let{dynamic:s,encoded:a}=e[i];s?(r.push(h(t+o,{size:32})),n.push(a),o+=m(a)):r.push(a)}return v([...r,...n])}function jt(e){if(!x(e))throw new A({address:e});return{dynamic:!1,encoded:j(e.toLowerCase())}}function At(e,{length:t,param:r}){let n=t===null;if(!Array.isArray(e))throw new fe(e);if(!n&&e.length!==t)throw new ie({expectedLength:t,givenLength:e.length,type:`${r.type}[${t}]`});let o=!1,i=[];for(let s=0;s<e.length;s++){let a=Ce({param:r,value:e[s]});a.dynamic&&(o=!0),i.push(a)}if(n||o){let s=ke(i);if(n){let a=h(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?v([a,s]):a}}if(o)return{dynamic:!0,encoded:s}}return{dynamic:!1,encoded:v(i.map(({encoded:s})=>s))}}function Ot(e,{param:t}){let[,r]=t.type.split("bytes"),n=m(e);if(!r){let o=e;return n%32!==0&&(o=j(o,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:v([j(h(n,{size:32})),o])}}if(n!==parseInt(r))throw new se({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:j(e,{dir:"right"})}}function Et(e){return{dynamic:!1,encoded:j(Ne(e))}}function Tt(e,{signed:t}){return{dynamic:!1,encoded:h(e,{size:32,signed:t})}}function Mt(e){let t=Le(e),r=Math.ceil(m(t)/32),n=[];for(let o=0;o<r;o++)n.push(j(f(t,o*32,(o+1)*32),{dir:"right"}));return{dynamic:!0,encoded:v([j(h(m(t),{size:32})),...n])}}function Ct(e,{param:t}){let r=!1,n=[];for(let o=0;o<t.components.length;o++){let i=t.components[o],s=Array.isArray(e)?o:i.name,a=Ce({param:i,value:e[s]});n.push(a),a.dynamic&&(r=!0)}return{dynamic:r,encoded:r?ke(n):v(n.map(({encoded:o})=>o))}}function te(e){let t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function ye(e,t){if(t==="0x"&&e.length>0)throw new G;if(m(t)&&m(t)<32)throw new ee({data:t,params:e,size:m(t)});return kt({data:t,params:e})}function kt({data:e,params:t}){let r=[],n=0;for(let o=0;o<t.length;o++){if(n>=m(e))throw new ee({data:e,params:t,size:m(e)});let i=t[o],{consumed:s,value:a}=L({data:e,param:i,position:n});r.push(a),n+=s}return r}function L({data:e,param:t,position:r}){let n=te(t.type);if(n){let[i,s]=n;return It(e,{length:i,param:{...t,type:s},position:r})}if(t.type==="tuple")return Dt(e,{param:t,position:r});if(t.type==="string")return Rt(e,{position:r});if(t.type.startsWith("bytes"))return St(e,{param:t,position:r});let o=f(e,r,r+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return zt(o,{param:t});if(t.type==="address")return Ft(o);if(t.type==="bool")return Bt(o);throw new de(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function Ft(e){return{consumed:32,value:We(f(e,-20))}}function It(e,{param:t,length:r,position:n}){if(!r){let s=g(f(e,n,n+32,{strict:!0})),a=g(f(e,s,s+32,{strict:!0})),l=0,c=[];for(let p=0;p<a;++p){let d=L({data:f(e,s+32),param:t,position:l});l+=d.consumed,c.push(d.value)}return{value:c,consumed:32}}if(he(t)){let a=!te(t.type)?.[0],l=0,c=[];for(let p=0;p<r;++p){let d=g(f(e,n,n+32,{strict:!0})),b=L({data:f(e,d),param:t,position:a?l:p*32});l+=b.consumed,c.push(b.value)}return{value:c,consumed:32}}let o=0,i=[];for(let s=0;s<r;++s){let a=L({data:e,param:t,position:n+o});o+=a.consumed,i.push(a.value)}return{value:i,consumed:o}}function Bt(e){return{consumed:32,value:De(e)}}function St(e,{param:t,position:r}){let[n,o]=t.type.split("bytes");if(!o){let s=g(f(e,r,r+32,{strict:!0})),a=g(f(e,s,s+32,{strict:!0}));return a===0?{consumed:32,value:"0x"}:{consumed:32,value:f(e,s+32,s+32+a,{strict:!0})}}return{consumed:32,value:f(e,r,r+parseInt(o),{strict:!0})}}function zt(e,{param:t}){let r=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?Re(e,{signed:r}):g(e,{signed:r})}}function Rt(e,{position:t}){let r=g(f(e,t,t+32,{strict:!0})),n=g(f(e,r,r+32,{strict:!0}));return n===0?{consumed:32,value:""}:{consumed:32,value:Ge(ze(f(e,r+32,r+32+n,{strict:!0})))}}function Dt(e,{param:t,position:r}){let n=t.components.length===0||t.components.some(({name:s})=>!s),o=n?[]:{},i=0;if(he(t)){let s=g(f(e,r,r+32,{strict:!0}));for(let a=0;a<t.components.length;++a){let l=t.components[a],c=L({data:f(e,s),param:l,position:i});i+=c.consumed,o[n?a:l?.name]=c.value}return{consumed:32,value:o}}for(let s=0;s<t.components.length;++s){let a=t.components[s],l=L({data:e,param:a,position:r+i});i+=l.consumed,o[n?s:a?.name]=l.value}return{consumed:i,value:o}}function he(e){let{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(he);let r=te(e.type);return!!(r&&he({...e,type:r[1]}))}function tt({abi:e,data:t}){let r=f(t,0,4);if(r==="0x")throw new G;let o=[...e||[],Ve,Ye].find(i=>i.type==="error"&&r===N(B(i)));if(!o)throw new ue(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?ye(o.inputs,f(t,4)):void 0,errorName:o.name}}var H=(e,t,r)=>JSON.stringify(e,(n,o)=>{let i=typeof o=="bigint"?o.toString():o;return typeof t=="function"?t(n,i):i},r);var rt=e=>typeof e=="string"?pe(e):me(e);function ge({abi:e,args:t=[],name:r}){let n=R(r,{strict:!1}),o=e.filter(i=>n?i.type==="function"?N(i)===r:i.type==="event"?rt(i)===r:!1:"name"in i&&i.name===r);if(o.length!==0){if(o.length===1)return o[0];for(let i of o){if(!("inputs"in i))continue;if(!t||t.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==t.length)continue;if(t.every((a,l)=>{let c="inputs"in i&&i.inputs[l];return c?Fe(a,c):!1}))return i}return o[0]}}function Fe(e,t){let r=typeof e,n=t.type;switch(n){case"address":return x(e);case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in t?Object.values(t.components).every((o,i)=>Fe(Object.values(e)[i],o)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(e)&&e.every(o=>Fe(o,{...t,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}var nt={gwei:9,wei:18},ot={ether:-9,wei:9};function xe(e,t){let r=e.toString(),n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(t,"0");let[o,i]=[r.slice(0,r.length-t),r.slice(r.length-t)];return i=i.replace(/(0+)$/,""),`${n?"-":""}${o||"0"}${i?`.${i}`:""}`}function it(e,t="wei"){return xe(e,nt[t])}function P(e,t="wei"){return xe(e,ot[t])}function st(e){let t=Object.entries(e).map(([n,o])=>o===void 0||o===!1?null:[n,o]).filter(Boolean),r=t.reduce((n,[o])=>Math.max(n,o.length),0);return t.map(([n,o])=>`  ${`${n}:`.padEnd(r+1)}  ${o}`).join(`
`)}var we=class extends u{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}};var ve=class extends u{constructor(t,{account:r,docsPath:n,chain:o,data:i,gas:s,gasPrice:a,maxFeePerGas:l,maxPriorityFeePerGas:c,nonce:p,to:d,value:b}){let y=r?D(r):void 0,M=st({from:y?.address,to:d,value:typeof b<"u"&&`${it(b)} ${o?.nativeCurrency.symbol||"ETH"}`,data:i,gas:s,gasPrice:typeof a<"u"&&`${P(a)} gwei`,maxFeePerGas:typeof l<"u"&&`${P(l)} gwei`,maxPriorityFeePerGas:typeof c<"u"&&`${P(c)} gwei`,nonce:p});super(t.shortMessage,{cause:t,docsPath:n,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",M].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}};var Pe=class extends u{constructor({data:t,message:r}){super(r||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}};var Ie="/docs/contract/decodeFunctionResult";function at({abi:e,args:t,functionName:r,data:n}){let o=e[0];if(r&&(o=ge({abi:e,args:t,name:r}),!o))throw new O(r,{docsPath:Ie});if(o.type!=="function")throw new O(void 0,{docsPath:Ie});if(!o.outputs)throw new ce(o.name,{docsPath:Ie});let i=ye(o.outputs,n);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}function ut({abi:e,args:t,functionName:r}){let n=e[0];if(r&&(n=ge({abi:e,args:t,name:r}),!n))throw new O(r,{docsPath:"/docs/contract/encodeFunctionData"});if(n.type!=="function")throw new O(void 0,{docsPath:"/docs/contract/encodeFunctionData"});let o=B(n),i=N(o),s="inputs"in n&&n.inputs?be(n.inputs,t??[]):void 0;return Me([i,s??"0x"])}function ct({blockNumber:e,chain:t,contract:r}){let n=t?.contracts?.[r];if(!n)throw new I({chain:t,contract:{name:r}});if(e&&n.blockCreated&&n.blockCreated>e)throw new I({blockNumber:e,chain:t,contract:{name:r,blockCreated:n.blockCreated}});return n.address}var $=class extends u{constructor({cause:t,message:r}={}){let n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}};Object.defineProperty($,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty($,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});var E=class extends u{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${P(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}};Object.defineProperty(E,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});var U=class extends u{constructor({cause:t,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${P(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}};Object.defineProperty(U,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});var W=class extends u{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}};Object.defineProperty(W,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});var q=class extends u{constructor({cause:t,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}};Object.defineProperty(q,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});var _=class extends u{constructor({cause:t,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}};Object.defineProperty(_,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});var V=class extends u{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}};Object.defineProperty(V,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});var Y=class extends u{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}};Object.defineProperty(Y,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});var J=class extends u{constructor({cause:t,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}};Object.defineProperty(J,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});var Z=class extends u{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}};Object.defineProperty(Z,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});var T=class extends u{constructor({cause:t,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${P(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${P(n)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}};Object.defineProperty(T,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});var Q=class extends u{constructor({cause:t}){super(`An error occurred while executing: ${t?.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}};var re=class extends u{constructor({body:t,details:r,headers:n,status:o,url:i}){super("HTTP request failed.",{details:r,metaMessages:[o&&`Status: ${o}`,`URL: ${X(i)}`,t&&`Request body: ${H(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=n,this.status=o,this.url=i}};function lt(e,t){let r=(e.details||"").toLowerCase(),n=e.walk(o=>o.code===$.code);return n instanceof u?new $({cause:e,message:n.details}):$.nodeMessage.test(r)?new $({cause:e,message:e.details}):E.nodeMessage.test(r)?new E({cause:e,maxFeePerGas:t?.maxFeePerGas}):U.nodeMessage.test(r)?new U({cause:e,maxFeePerGas:t?.maxFeePerGas}):W.nodeMessage.test(r)?new W({cause:e,nonce:t?.nonce}):q.nodeMessage.test(r)?new q({cause:e,nonce:t?.nonce}):_.nodeMessage.test(r)?new _({cause:e,nonce:t?.nonce}):V.nodeMessage.test(r)?new V({cause:e}):Y.nodeMessage.test(r)?new Y({cause:e,gas:t?.gas}):J.nodeMessage.test(r)?new J({cause:e,gas:t?.gas}):Z.nodeMessage.test(r)?new Z({cause:e}):T.nodeMessage.test(r)?new T({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new Q({cause:e})}function dt(e,{docsPath:t,...r}){let n=lt(e,r);return n instanceof Q&&(n=e),new ve(n,{docsPath:t,...r})}function ft(e,{format:t}){return t?Object.keys(t({})).reduce((n,o)=>(e?.hasOwnProperty(o)&&(n[o]=e[o]),n),{}):{}}var Gt={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function pt(e){return{...e,gas:typeof e.gas<"u"?h(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?h(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?h(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?h(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?h(e.nonce):void 0,type:typeof e.type<"u"?Gt[e.type]:void 0,value:typeof e.value<"u"?h(e.value):void 0}}var Be=new Map;function mt({fn:e,id:t,shouldSplitBatch:r,wait:n=0}){let o=async()=>{let c=a();i();let p=c.map(({args:d})=>d);p.length!==0&&e(p).then(d=>{c.forEach(({pendingPromise:b},y)=>b.resolve?.([d[y],d]))}).catch(d=>{c.forEach(({pendingPromise:b})=>b.reject?.(d))})},i=()=>Be.delete(t),s=()=>a().map(({args:c})=>c),a=()=>Be.get(t)||[],l=c=>Be.set(t,[...a(),c]);return{flush:i,async schedule(c){let p={},d=new Promise((M,C)=>{p.resolve=M,p.reject=C});return r?.([...s(),c])&&o(),a().length>0?(l({args:c,pendingPromise:p}),d):(l({args:c,pendingPromise:p}),setTimeout(o,n),d)}}}function bt(e){let{account:t,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:o,to:i}=e,s=t?D(t):void 0;if(s&&!x(s.address))throw new A({address:s.address});if(i&&!x(i))throw new A({address:i});if(typeof r<"u"&&(typeof n<"u"||typeof o<"u"))throw new we;if(n&&n>2n**256n-1n)throw new E({maxFeePerGas:n});if(o&&n&&o>n)throw new T({maxFeePerGas:n,maxPriorityFeePerGas:o})}async function ht(e,t){let{account:r=e.account,batch:n=Boolean(e.batch?.multicall),blockNumber:o,blockTag:i="latest",accessList:s,data:a,gas:l,gasPrice:c,maxFeePerGas:p,maxPriorityFeePerGas:d,nonce:b,to:y,value:M,...C}=t,S=r?D(r):void 0;try{bt(t);let w=(o?h(o):void 0)||i,F=e.chain?.formatters?.transactionRequest?.format||pt,z=F({...ft(C,{format:F}),from:S?.address,accessList:s,data:a,gas:l,gasPrice:c,maxFeePerGas:p,maxPriorityFeePerGas:d,nonce:b,to:y,value:M});if(n&&Nt({request:z}))try{return await Lt(e,{...z,blockNumber:o,blockTag:i})}catch(Oe){if(!(Oe instanceof K)&&!(Oe instanceof I))throw Oe}let Se=await e.request({method:"eth_call",params:w?[z,w]:[z]});return Se==="0x"?{data:void 0}:{data:Se}}catch(k){let w=Ht(k),{offchainLookup:F,offchainLookupSignature:z}=await import("/build/_shared/ccip-CJBVIOX5.js");if(w?.slice(0,10)===z&&y)return{data:await F(e,{data:w,to:y})};throw dt(k,{...t,account:S,chain:e.chain})}}function Nt({request:e}){let{data:t,to:r,...n}=e;return!(!t||t.startsWith(_e)||!r||Object.values(n).filter(o=>typeof o<"u").length>0)}async function Lt(e,t){let{batchSize:r=1024,wait:n=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:i="latest",data:s,multicallAddress:a,to:l}=t,c=a;if(!c){if(!e.chain)throw new K;c=ct({blockNumber:o,chain:e.chain,contract:"multicall3"})}let d=(o?h(o):void 0)||i,{schedule:b}=mt({id:`${e.uid}.${d}`,wait:n,shouldSplitBatch(C){return C.reduce((k,{data:w})=>k+(w.length-2),0)>r*2},fn:async C=>{let S=C.map(F=>({allowFailure:!0,callData:F.data,target:F.to})),k=ut({abi:Te,args:[S],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:k,to:c},d]});return at({abi:Te,args:[S],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:y,success:M}]=await b({data:s,to:l});if(!M)throw new Pe({data:y});return y==="0x"?{data:void 0}:{data:y}}function Ht(e){if(!(e instanceof u))return;let t=e.walk();return typeof t.data=="object"?t.data.data:t.data}var $e=class extends u{constructor({callbackSelector:t,cause:r,data:n,extraData:o,sender:i,urls:s}){super(r.shortMessage||"An error occurred while fetching for an offchain result.",{cause:r,metaMessages:[...r.metaMessages||[],r.metaMessages?.length?"":[],"Offchain Gateway Call:",s&&["  Gateway URL(s):",...s.map(a=>`    ${X(a)}`)],`  Sender: ${i}`,`  Data: ${n}`,`  Callback selector: ${t}`,`  Extra data: ${o}`].flat()}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupError"})}},je=class extends u{constructor({result:t,url:r}){super("Offchain gateway response is malformed. Response data must be a hex value.",{metaMessages:[`Gateway URL: ${X(r)}`,`Response: ${H(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupResponseMalformedError"})}},Ae=class extends u{constructor({sender:t,to:r}){super("Reverted sender address does not match target contract address (`to`).",{metaMessages:[`Contract address: ${r}`,`OffchainLookup sender address: ${t}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"OffchainLookupSenderMismatchError"})}};function yt(e,t){if(!x(e))throw new A({address:e});if(!x(t))throw new A({address:t});return e.toLowerCase()===t.toLowerCase()}var Fo="0x556f1830",Ut={name:"OffchainLookup",type:"error",inputs:[{name:"sender",type:"address"},{name:"urls",type:"string[]"},{name:"callData",type:"bytes"},{name:"callbackFunction",type:"bytes4"},{name:"extraData",type:"bytes"}]};async function Io(e,{blockNumber:t,blockTag:r,data:n,to:o}){let{args:i}=tt({data:n,abi:[Ut]}),[s,a,l,c,p]=i;try{if(!yt(o,s))throw new Ae({sender:s,to:o});let d=await Wt({data:l,sender:s,urls:a}),{data:b}=await ht(e,{blockNumber:t,blockTag:r,data:v([c,be([{type:"bytes"},{type:"bytes"}],[d,p])]),to:o});return b}catch(d){throw new $e({callbackSelector:c,cause:d,data:n,extraData:p,sender:s,urls:a})}}async function Wt({data:e,sender:t,urls:r}){let n=new Error("An unknown error occurred.");for(let o=0;o<r.length;o++){let i=r[o],s=i.includes("{sender}")||i.includes("{data}")?"GET":"POST",a=s==="POST"?{data:e,sender:t}:void 0;try{let l=await fetch(i.replace("{sender}",t).replace("{data}",e),{body:JSON.stringify(a),method:s}),c;if(l.headers.get("Content-Type")?.startsWith("application/json")?c=(await l.json()).data:c=await l.text(),!l.ok){n=new re({body:a,details:H(c.error)||l.statusText,headers:l.headers,status:l.status,url:i});continue}if(!R(c)){n=new je({result:c,url:i});continue}return c}catch(l){n=new re({body:a,details:l.message,url:i})}}throw n}export{Wt as ccipFetch,Io as offchainLookup,Ut as offchainLookupAbiItem,Fo as offchainLookupSignature};
