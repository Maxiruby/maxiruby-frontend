import{b as x}from"/build/_shared/chunk-ERPLSEDK.js";import{a as w}from"/build/_shared/chunk-Q6JY3F4H.js";import{f as c}from"/build/_shared/chunk-ZSCMMWXX.js";function d(){return typeof document>"u"}var a=class{storage=void 0;parse(e){return typeof e=="string"?JSON.parse(e):e}stringify(e){return typeof e!="string"?JSON.stringify(e):e}initialize(){d()||(this.storage=window.localStorage)}get(e){if(!this.storage)return;let r=this.storage.getItem(e);if(r!=null)return this.parse(r)}set(e,r){if(!this.storage)return;if(typeof e>"u")return console.error("[storage] Key is must be set.");if(typeof r>"u")return console.error("[storage] Value is must be set.");let o=this.stringify(r);this.storage.setItem(e,o)}remove(e){if(this.storage){if(typeof e>"u"||typeof e!="string")return console.error(`[storage] Key is must be set in string. key: ${e||"none"}`);this.storage.removeItem(e)}}},u=new a;u.initialize();var l=t=>{let e,r=new Set,o=(n,f)=>{let s=typeof n=="function"?n(e):n;if(!Object.is(s,e)){let T=e;e=f??typeof s!="object"?s:Object.assign({},e,s),r.forEach(D=>D(e,T))}},i=()=>e,p={setState:o,getState:i,subscribe:n=>(r.add(n),()=>r.delete(n)),destroy:()=>{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}};return e=t(o,i,p),p},m=t=>t?l(t):l;var b=c(w(),1),h=c(x(),1),{useSyncExternalStoreWithSelector:A}=h.default,g=!1;function P(t,e=t.getState,r){(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&r&&!g&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),g=!0);let o=A(t.subscribe,t.getState,t.getServerState||t.getState,e,r);return(0,b.useDebugValue)(o),o}var S=t=>{(import.meta.env?import.meta.env.MODE:void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let e=typeof t=="function"?m(t):t,r=(o,i)=>P(e,o,i);return Object.assign(r,e),r},v=t=>t?S(t):S;var y=t=>({theme:0,setTheme:e=>{t(r=>({...r,theme:e})),u.set("maxiruby-theme",e)}});var E=t=>({profile:void 0,token:"ey.15112412412...",setProfile:e=>{t(r=>({...r,profile:e}))},setToken:e=>{t(r=>({...r,token:e}))}});var N=v((...t)=>({...y(...t),...E(...t)}));export{u as a,N as b};
