import{a as g}from"/build/_shared/chunk-VKMHKPOH.js";import{b as y}from"/build/_shared/chunk-IU7WXVWH.js";import{a as s}from"/build/_shared/chunk-QZWCDLX3.js";import{a as l}from"/build/_shared/chunk-3ILPVI57.js";import"/build/_shared/chunk-ERPLSEDK.js";import{a as i}from"/build/_shared/chunk-247SV4KM.js";import"/build/_shared/chunk-OKFWYDNW.js";import{b as h,f as u}from"/build/_shared/chunk-2QQBSPFY.js";import{a as O,b as w}from"/build/_shared/chunk-Q6JY3F4H.js";import{f as p}from"/build/_shared/chunk-ZSCMMWXX.js";var a=p(O());var e=p(w()),P=()=>[{title:"Login \u2014 Maxiruby Launchpad"},{name:"description",content:"Login \u2014 Maxiruby Launchpad"}];function N(){let{profile:C,setProfile:b,token:E,setToken:L}=y(t=>t),k=h(),F=localStorage.getItem("token"),[n,S]=(0,a.useState)(""),[c,j]=(0,a.useState)(""),[x,m]=(0,a.useState)(!1),[v,r]=(0,a.useState)(""),[I,d]=(0,a.useState)(""),M=async()=>{if(!n||!c)return r("Please fill all the fields");m(!0),d(""),r("");try{var t=new Headers;t.append("Content-Type","application/json");var T=JSON.stringify({email:n,password:c}),B={method:"POST",headers:t,body:T,redirect:"follow"};let o=await(await fetch("https://api.maxiruby.com/api/users/auth/login",B)).json();if(console.log(o.user),o.user){localStorage.setItem("token",JSON.stringify(o.token)),localStorage.setItem("profile",JSON.stringify(o.user)),b(o.user),L(o.token),k("/");return}console.log(v),r("Invalid credentials"),d(""),m(!1)}catch(f){console.log(f),r(f.message),d(""),m(!1)}};return(0,e.jsxs)("div",{className:"flex flex-1 flex-row flex-wrap items-start justify-start columns-1 md:columns-2 h-fit md:h-screen",children:[(0,e.jsxs)("div",{className:"relative flex flex-1 flex-col md:border-r md:border-solid md:border-border min-w-[400px] h-full overflow-hidden",children:[(0,e.jsx)(u,{to:"/",className:"flex p-5 w-fit",children:(0,e.jsx)(l,{src:s.Logo,alt:"Maxiruby",width:215,height:26,objectFit:"contain"})}),(0,e.jsx)("div",{className:"absolute top-0 w-screen h-screen md:-mt-24 -z-1 pointer-events-none",children:(0,e.jsx)("div",{className:"relative inset-0 w-full h-0 pb-[61.783525291304635%]",children:(0,e.jsx)("div",{className:"absolute inset-0 w-full h-full",children:(0,e.jsx)(l,{src:s.HomeBackground,alt:"MaxiRuby",width:"100%",height:"auto",objectFit:"cover"})})})})]}),(0,e.jsx)("div",{className:"flex flex-1 h-full min-w-[340px]",children:(0,e.jsxs)("div",{className:"flex flex-1 flex-col items-center justify-center p-10 gap-y-16",children:[(0,e.jsx)("header",{className:"flex justify-center items-center",children:(0,e.jsx)("h1",{className:"text-[max(3vw,36px)] text-center text-foreground font-heading font-bold",children:"Welcome"})}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-8 w-full max-w-[600px] mx-auto",children:[(0,e.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,e.jsx)("label",{className:"font-semibold text-foreground/70 pl-1",children:"Email"}),(0,e.jsx)(g,{type:"text",placeholder:"Enter your e-mail here",value:n,onChange:t=>{S(t.target.value)},className:"py-4 px-5 placeholder:text-muted-foreground/60"})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,e.jsx)("label",{className:"font-semibold text-foreground/70 pl-1",children:"Password"}),(0,e.jsx)(g,{type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:c,onChange:t=>{j(t.target.value)},className:"py-4 px-5 placeholder:text-muted-foreground/60"})]}),(0,e.jsxs)("div",{className:"flex flex-col gap-y-4 justify-center items-center",children:[(0,e.jsx)(i,{type:"button",title:"Log in",variant:"invert",className:"w-fit min-w-[160px]",onClick:M,disabled:x,children:x?"Loading...":"Log in"}),(0,e.jsxs)("small",{style:{color:"red"},children:[" ",v]}),(0,e.jsxs)("small",{style:{color:"green"},children:[" ",I]}),(0,e.jsxs)("small",{className:"text-foreground/50",children:["Don\u2019t you have an account?"," ",(0,e.jsx)(u,{to:"/signup",className:"text-foreground font-bold pl-0.5",children:"Sign Up"})]})]}),(0,e.jsx)("div",{className:"flex flex-col justify-center items-center pt-6",children:(0,e.jsx)("strong",{className:"text-xl font-semibold",children:"OR"})}),(0,e.jsxs)("div",{className:"flex flex-row flex-wrap items-center justify-center gap-2",children:[(0,e.jsxs)(i,{type:"button",title:"Log in",variant:"secondary",className:"w-fit min-w-[100px]",children:[(0,e.jsx)(l,{src:s.GoogleG,alt:"Google",width:24,height:24}),"Log in with Google"]}),(0,e.jsxs)(i,{type:"button",title:"Log in",variant:"secondary",className:"w-fit min-w-[100px]",children:[(0,e.jsx)(l,{src:s.Twitter,alt:"Twitter",width:24,height:24}),"Log in with Twitter"]})]})]})]})})]})}export{N as default,P as meta};
